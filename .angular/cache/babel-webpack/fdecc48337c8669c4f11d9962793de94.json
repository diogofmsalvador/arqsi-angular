{"ast":null,"code":"import { BottomSheetComponent } from \"../search-user-tab/bottom-sheet/bottom-sheet.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/bottom-sheet\";\nimport * as i2 from \"../../../log-in-component/Service/logInService\";\nimport * as i3 from \"../../../Services/RelationService\";\nimport * as i4 from \"@angular/material/expansion\";\nexport let SearchFriendsTabComponent = /*#__PURE__*/(() => {\n  class SearchFriendsTabComponent {\n    constructor(_bottomSheet, _user, _relation) {\n      this._bottomSheet = _bottomSheet;\n      this._user = _user;\n      this._relation = _relation;\n      this.panelOpenState = false;\n      this.array_users = [];\n      this.final_users_array = [];\n      this.array_userIds = [];\n    }\n\n    ngOnInit() {}\n\n    openBottomSheet() {\n      this.array_users = [];\n      this.array_userIds = [];\n      this.userToBeAdded = null;\n      this.final_users_array = [];\n      this.panelOpenState = false;\n\n      this._user.getUserByUsername(localStorage.getItem('username')).subscribe(resultUserId => {\n        var _a;\n\n        console.log(resultUserId); // @ts-ignore\n\n        this._relation.getRelationOfUser((_a = resultUserId.body) === null || _a === void 0 ? void 0 : _a.id_User).subscribe(resultRelation => {\n          var _a, _b;\n\n          console.log(resultRelation);\n          this.userToBeAdded = null; // @ts-ignore\n\n          for (let i = 0; i < resultRelation.body.length; i++) {\n            // @ts-ignore\n            if (((_a = resultUserId.body) === null || _a === void 0 ? void 0 : _a.id_User) == resultRelation.body[i].id_UserA) {\n              // @ts-ignore\n              this.userToBeAdded = resultRelation.body[i].id_UserB;\n              this.array_userIds.push(this.userToBeAdded);\n            } else {\n              // @ts-ignore\n              if (((_b = resultUserId.body) === null || _b === void 0 ? void 0 : _b.id_User) == resultRelation.body[i].id_UserB) {\n                // @ts-ignore\n                this.userToBeAdded = resultRelation.body[i].id_UserA;\n                this.array_userIds.push(this.userToBeAdded);\n              }\n            }\n          }\n\n          this._user.getALlUsersTest().subscribe(resultAllUsers => {\n            for (let i = 0; i < resultAllUsers.body.length; i++) {\n              this.array_users.push(resultAllUsers.body[i]);\n            }\n\n            console.log(this.array_users);\n\n            for (let i = 0; i < this.array_users.length; i++) {\n              for (let j = 0; j < this.array_userIds.length; j++) {\n                if (this.array_users[i].id_User == this.array_userIds[j]) {\n                  const dto = {\n                    // @ts-ignore\n                    username: this.array_users[i].username,\n                    // @ts-ignore\n                    name: this.array_users[i].nome\n                  };\n                  this.final_users_array.push(dto);\n                } else if (this.array_users[i].id_User == undefined) {\n                  console.log(undefined);\n                }\n              }\n            }\n\n            this._bottomSheet.open(BottomSheetComponent, {\n              data: this.final_users_array\n            });\n          });\n        });\n      });\n    }\n\n  }\n\n  SearchFriendsTabComponent.ɵfac = function SearchFriendsTabComponent_Factory(t) {\n    return new (t || SearchFriendsTabComponent)(i0.ɵɵdirectiveInject(i1.MatBottomSheet), i0.ɵɵdirectiveInject(i2.logInService), i0.ɵɵdirectiveInject(i3.RelationService));\n  };\n\n  SearchFriendsTabComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchFriendsTabComponent,\n    selectors: [[\"app-search-friends-tab\"]],\n    decls: 8,\n    vars: 1,\n    consts: [[1, \"example-headers-align\"], [\"hideToggle\", \"\", 1, \"mt-4\", 3, \"expanded\", \"expandedChange\", \"click\"], [1, \"fas\", \"fa-users\", 2, \"transform\", \"translateX(10px)\"]],\n    template: function SearchFriendsTabComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-accordion\", 0);\n        i0.ɵɵelementStart(1, \"mat-expansion-panel\", 1);\n        i0.ɵɵlistener(\"expandedChange\", function SearchFriendsTabComponent_Template_mat_expansion_panel_expandedChange_1_listener($event) {\n          return ctx.panelOpenState = $event;\n        })(\"click\", function SearchFriendsTabComponent_Template_mat_expansion_panel_click_1_listener() {\n          return ctx.openBottomSheet();\n        });\n        i0.ɵɵelementStart(2, \"mat-expansion-panel-header\");\n        i0.ɵɵelementStart(3, \"mat-panel-title\");\n        i0.ɵɵtext(4, \" Visualizar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-panel-description\");\n        i0.ɵɵtext(6, \" Amizades \");\n        i0.ɵɵelement(7, \"i\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"expanded\", ctx.panelOpenState);\n      }\n    },\n    directives: [i4.MatAccordion, i4.MatExpansionPanel, i4.MatExpansionPanelHeader, i4.MatExpansionPanelTitle, i4.MatExpansionPanelDescription],\n    styles: [\"\"]\n  });\n  return SearchFriendsTabComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}